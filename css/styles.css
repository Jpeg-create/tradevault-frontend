* { margin:0; padding:0; box-sizing:border-box; }

/* ── VARIABLES ───────────────────────────────────────────── */
:root {
  --bg-primary:    #0b1410;
  --bg-secondary:  #121c16;
  --bg-tertiary:   #192318;
  --bg-card:       #1a251e;
  --bg-hover:      #1f2d22;

  --accent-green:  #a3e635;
  --accent-green-dim: rgba(163,230,53,0.12);
  --accent-red:    #f43f5e;
  --accent-red-dim: rgba(244,63,94,0.12);
  --accent-yellow: #fbbf24;
  --accent-blue:   #38bdf8;

  --text-primary:  #ecfdf0;
  --text-secondary:#6b7f72;
  --text-muted:    #3d5244;

  --border-color:  rgba(255,255,255,0.06);
  --border-hover:  rgba(255,255,255,0.12);

  --radius-sm:  8px;
  --radius-md:  12px;
  --radius-lg:  16px;
  --radius-xl:  20px;

  --sidebar-width: 220px;

  --shadow-card: 0 2px 12px rgba(0,0,0,0.3);
  --shadow-modal: 0 24px 64px rgba(0,0,0,0.6);
}

/* ── BASE ────────────────────────────────────────────────── */
body {
  font-family:'JetBrains Mono',monospace;
  background:var(--bg-primary);
  color:var(--text-primary);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}

/* ── ANIMATIONS ─────────────────────────────────────────── */
@keyframes fadeIn  { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:translateY(0)} }
@keyframes pulse   { 0%,100%{opacity:1} 50%{opacity:.3} }
@keyframes slideUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
@keyframes slideInRight { from{opacity:0;transform:translateX(12px)} to{opacity:1;transform:translateX(0)} }
@keyframes shimmer { from{background-position:200% 0} to{background-position:-200% 0} }
@keyframes spin    { to{transform:rotate(360deg)} }

/* ── LAYOUT ─────────────────────────────────────────────── */
.app-container { display:flex; min-height:100vh; }

.sidebar {
  width:var(--sidebar-width);
  background:var(--bg-secondary);
  border-right:1px solid var(--border-color);
  position:fixed;
  height:100vh;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  z-index:100;
  padding:1.5rem 0.875rem;
}

.logo {
  font-family:'Syne',sans-serif;
  font-size:1.25rem;
  font-weight:800;
  padding:0 0.5rem;
  margin-bottom:2rem;
  display:flex;
  align-items:center;
  gap:0.6rem;
  letter-spacing:0.5px;
}
.logo-icon {
  width:32px; height:32px;
  background:var(--accent-green);
  border-radius:8px;
  display:flex; align-items:center; justify-content:center;
  font-size:1rem; color:var(--bg-primary); flex-shrink:0;
}
.logo-text { color:var(--text-primary); }
.logo-text span { color:var(--accent-green); }

/* Sidebar section labels */
.nav-section-label {
  font-size:0.62rem;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:1.5px;
  color:var(--text-muted);
  padding:0 0.75rem;
  margin:1.25rem 0 0.4rem;
}
.nav-section-label:first-of-type { margin-top:0; }

.nav-item {
  padding:0.65rem 0.875rem;
  cursor:pointer;
  transition:all 0.18s ease;
  border-radius:var(--radius-md);
  font-size:0.8rem;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:0.65rem;
  color:var(--text-secondary);
  margin-bottom:2px;
  letter-spacing:0.3px;
  user-select:none;
  border:none; background:transparent; width:100%; text-align:left;
}
.nav-item:hover  { background:var(--bg-tertiary); color:var(--text-primary); }
.nav-item.active { background:var(--accent-green); color:var(--bg-primary); font-weight:700; }
.nav-item.active .nav-icon { opacity:1; }

.nav-icon {
  width:18px; height:18px; flex-shrink:0;
  display:flex; align-items:center; justify-content:center;
  opacity:0.7;
}
.nav-item.active .nav-icon { opacity:1; }

.sidebar-footer {
  margin-top:auto;
  padding-top:1rem;
  border-top:1px solid var(--border-color);
}

.sidebar-profile-btn {
  width:100%;
  background:var(--bg-tertiary);
  border:1px solid var(--border-color);
  border-radius:var(--radius-md);
  padding:0.75rem;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:0.65rem;
  transition:all 0.18s;
  text-align:left;
  margin-bottom:0.6rem;
}
.sidebar-profile-btn:hover { border-color:var(--border-hover); background:var(--bg-hover); }

.sidebar-avatar {
  width:34px; height:34px;
  background:var(--accent-green);
  border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-family:'Syne',sans-serif; font-size:0.95rem; font-weight:800;
  color:var(--bg-primary); flex-shrink:0;
}
.sidebar-user-info  { flex:1; min-width:0; }
.sidebar-user-name  { font-size:0.78rem; font-weight:700; color:var(--text-primary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.sidebar-user-label { font-size:0.65rem; color:var(--text-secondary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; margin-top:0.1rem; }
.sidebar-profile-icon { font-size:0.8rem; color:var(--text-secondary); flex-shrink:0; }

.sync-status {
  display:flex; align-items:center; gap:0.5rem;
  font-size:0.65rem; color:var(--text-secondary);
  padding:0.5rem 0.25rem 0;
  font-weight:600; letter-spacing:0.5px; text-transform:uppercase;
}
.sync-dot         { width:7px; height:7px; border-radius:50%; background:var(--accent-green); flex-shrink:0; }
.sync-dot.syncing { animation:pulse 1s ease-in-out infinite; background:var(--accent-yellow); }

.main-content { margin-left:var(--sidebar-width); flex:1; padding:2rem 2.5rem; animation:fadeIn 0.3s ease; min-height:100vh; }

/* ── PAGE HEADER ────────────────────────────────────────── */
.page-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.75rem; gap:1rem; flex-wrap:wrap; }
.header {
  font-family:'Syne',sans-serif;
  font-size:1.6rem;
  font-weight:800;
  color:var(--text-primary);
  letter-spacing:-0.5px;
}

/* ── CARDS ──────────────────────────────────────────────── */
.card {
  background:var(--bg-card);
  border:1px solid var(--border-color);
  border-radius:var(--radius-lg);
  padding:1.5rem;
  margin-bottom:1.25rem;
  box-shadow:var(--shadow-card);
}

.card-title {
  font-size:0.85rem;
  font-weight:700;
  margin-bottom:1.25rem;
  display:flex;
  align-items:center;
  justify-content:space-between;
  color:var(--text-primary);
  letter-spacing:0.2px;
}
.card-title-count {
  background:var(--bg-tertiary);
  border:1px solid var(--border-color);
  color:var(--text-secondary);
  font-size:0.7rem;
  font-weight:600;
  padding:0.15rem 0.55rem;
  border-radius:20px;
}

/* ── STAT CARDS ─────────────────────────────────────────── */
.stats-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:1rem; margin-bottom:1.5rem; }

.stat-card {
  background:var(--bg-card);
  border:1px solid var(--border-color);
  border-radius:var(--radius-lg);
  padding:1.4rem;
  transition:all 0.2s ease;
  box-shadow:var(--shadow-card);
}
.stat-card:hover { border-color:var(--border-hover); transform:translateY(-1px); }

.stat-label {
  font-size:0.7rem;
  text-transform:uppercase;
  letter-spacing:0.8px;
  color:var(--text-secondary);
  margin-bottom:0.65rem;
  font-weight:600;
}
.stat-value  { font-family:'Syne',sans-serif; font-size:1.75rem; font-weight:800; margin-bottom:0.25rem; line-height:1; letter-spacing:-1px; }
.stat-value.positive { color:var(--accent-green); }
.stat-value.negative { color:var(--accent-red); }
.stat-change { font-size:0.72rem; color:var(--text-secondary); }

/* ── BUTTONS ────────────────────────────────────────────── */
.btn {
  padding:0.65rem 1.25rem;
  border-radius:var(--radius-md);
  border:none;
  font-weight:700;
  cursor:pointer;
  transition:all 0.18s ease;
  font-family:'JetBrains Mono',monospace;
  font-size:0.78rem;
  letter-spacing:0.3px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:0.45rem;
  white-space:nowrap;
  text-decoration:none;
}
.btn-block { width:100%; }
.btn:disabled { opacity:0.45; cursor:not-allowed; transform:none!important; }
.btn-primary  { background:var(--accent-green); color:var(--bg-primary); font-weight:800; }
.btn-primary:hover:not(:disabled) { background:#b5f542; transform:translateY(-1px); box-shadow:0 4px 16px rgba(163,230,53,0.25); }
.btn-secondary { background:var(--bg-tertiary); color:var(--text-primary); border:1px solid var(--border-color); }
.btn-secondary:hover:not(:disabled) { background:var(--bg-hover); border-color:var(--border-hover); }
.btn-danger { background:var(--accent-red-dim); color:var(--accent-red); border:1px solid rgba(244,63,94,0.2); }
.btn-danger:hover:not(:disabled) { background:rgba(244,63,94,0.2); }
.btn-sm { padding:0.4rem 0.85rem; font-size:0.68rem; border-radius:var(--radius-sm); }

/* ── FORMS ──────────────────────────────────────────────── */
.form-group  { margin-bottom:1.1rem; }
.form-label  { display:block; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.5px; color:var(--text-secondary); margin-bottom:0.4rem; font-weight:600; }
.form-label-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.4rem; }
.form-label-row .form-label { margin-bottom:0; }
.form-row    { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:1rem; }

.form-input, .form-select, .form-textarea {
  width:100%;
  padding:0.8rem 1rem;
  background:var(--bg-tertiary);
  border:1px solid var(--border-color);
  border-radius:var(--radius-md);
  color:var(--text-primary);
  font-family:'JetBrains Mono',monospace;
  font-size:0.85rem;
  transition:all 0.18s ease;
}
.form-input:hover, .form-select:hover { border-color:var(--border-hover); }
.form-input:focus, .form-select:focus, .form-textarea:focus {
  outline:none;
  border-color:var(--accent-green);
  background:rgba(163,230,53,0.04);
  box-shadow:0 0 0 3px rgba(163,230,53,0.1);
}
.form-input::placeholder { color:var(--text-secondary); opacity:0.6; }
.form-textarea { resize:vertical; min-height:100px; line-height:1.6; }
.form-select option { background:var(--bg-tertiary); }

/* ── TRADE ITEMS ────────────────────────────────────────── */
.trade-item {
  background:var(--bg-tertiary);
  border:1px solid var(--border-color);
  border-radius:var(--radius-md);
  padding:1rem 1.15rem;
  margin-bottom:0.6rem;
  transition:all 0.18s ease;
  cursor:pointer;
}
.trade-item:last-child { margin-bottom:0; }
.trade-item:hover { background:var(--bg-hover); border-color:var(--border-hover); transform:translateY(-1px); box-shadow:var(--shadow-card); }

.trade-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.5rem; gap:0.75rem; }
.trade-left   { display:flex; align-items:center; gap:0.65rem; flex-wrap:wrap; min-width:0; }
.trade-right  { display:flex; align-items:center; gap:0.65rem; flex-shrink:0; }
.trade-badges { display:flex; gap:0.3rem; flex-wrap:wrap; }

.trade-symbol { font-family:'Syne',sans-serif; font-size:0.95rem; font-weight:800; flex-shrink:0; letter-spacing:0.5px; }
.trade-pnl    { font-family:'Syne',sans-serif; font-size:0.95rem; font-weight:800; flex-shrink:0; }
.trade-pnl.positive { color:var(--accent-green); }
.trade-pnl.negative { color:var(--accent-red); }
.trade-meta   { display:flex; gap:1.1rem; font-size:0.7rem; color:var(--text-secondary); flex-wrap:wrap; }
.trade-meta-item { display:flex; align-items:center; gap:0.25rem; }
.trade-notes  { margin-top:0.5rem; font-size:0.78rem; color:var(--text-secondary); font-style:italic; border-left:2px solid var(--border-color); padding-left:0.65rem; line-height:1.5; }

/* ── BADGES ─────────────────────────────────────────────── */
.badge { display:inline-block; padding:0.2rem 0.6rem; border-radius:20px; font-size:0.65rem; font-weight:700; text-transform:uppercase; letter-spacing:0.3px; }
.badge-long    { background:rgba(163,230,53,0.12); color:var(--accent-green); }
.badge-short   { background:var(--accent-red-dim);  color:var(--accent-red); }
.badge-stock   { background:rgba(56,189,248,0.12);  color:var(--accent-blue); }
.badge-forex   { background:rgba(251,191,36,0.12);  color:var(--accent-yellow); }
.badge-crypto  { background:rgba(107,127,114,0.15); color:var(--text-secondary); }
.badge-futures { background:rgba(167,139,250,0.12); color:#a78bfa; }
.badge-options { background:rgba(251,146,60,0.12);  color:#fb923c; }
.badge-broker  { background:rgba(56,189,248,0.12);  color:var(--accent-blue); }

/* ── MISC ───────────────────────────────────────────────── */
.positive { color:var(--accent-green); }
.negative { color:var(--accent-red); }

.empty-state { text-align:center; padding:3.5rem 2rem; color:var(--text-secondary); }
.empty-state-icon { font-size:2.5rem; margin-bottom:1rem; opacity:0.35; }
.empty-state h3 { font-family:'Syne',sans-serif; font-size:0.95rem; color:var(--text-primary); margin-bottom:0.4rem; }
.empty-state p  { font-size:0.8rem; }

.skeleton {
  background:linear-gradient(90deg,var(--bg-tertiary) 25%,var(--bg-hover) 50%,var(--bg-tertiary) 75%);
  background-size:200% 100%;
  animation:shimmer 1.4s infinite;
  border-radius:var(--radius-md);
}

/* ── MODAL ──────────────────────────────────────────────── */
.modal {
  position:fixed; inset:0;
  background:rgba(11,20,16,0.85);
  backdrop-filter:blur(8px);
  display:flex; align-items:center; justify-content:center;
  z-index:1000; padding:1rem;
  animation:fadeIn 0.2s ease;
}
.modal-content {
  background:var(--bg-card);
  border:1px solid var(--border-color);
  border-radius:var(--radius-xl);
  padding:2rem;
  width:100%;
  max-width:780px;
  max-height:90vh;
  overflow-y:auto;
  animation:slideUp 0.22s ease;
  box-shadow:var(--shadow-modal);
}
.modal-header  { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem; }
.modal-title   { font-family:'Syne',sans-serif; font-size:1.2rem; font-weight:800; }
.modal-actions { display:flex; gap:0.75rem; margin-top:1.5rem; flex-wrap:wrap; }
.pnl-result    { background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:var(--radius-md); padding:1.1rem 1.5rem; margin-top:1rem; text-align:center; }

/* ── TOASTS ─────────────────────────────────────────────── */
#toast-container { position:fixed; top:1.25rem; right:1.25rem; z-index:9999; display:flex; flex-direction:column; gap:0.5rem; }
.toast {
  background:var(--bg-card);
  border:1px solid var(--border-color);
  border-radius:var(--radius-md);
  padding:0.875rem 1.1rem;
  font-size:0.8rem;
  max-width:300px;
  animation:slideInRight 0.22s ease;
  display:flex; align-items:flex-start; gap:0.65rem;
  box-shadow:var(--shadow-modal);
  line-height:1.4;
}
.toast.success { border-left:3px solid var(--accent-green); }
.toast.error   { border-left:3px solid var(--accent-red); }
.toast.info    { border-left:3px solid var(--accent-blue); }
.toast.warn    { border-left:3px solid var(--accent-yellow); }

/* ── SPINNER ────────────────────────────────────────────── */
.spinner { width:13px; height:13px; border:2px solid rgba(255,255,255,0.12); border-top-color:currentColor; border-radius:50%; animation:spin 0.65s linear infinite; display:inline-block; flex-shrink:0; }

/* ── JOURNAL ────────────────────────────────────────────── */
.journal-entry { background:var(--bg-tertiary); border:1px solid var(--border-color); border-left:3px solid var(--accent-green); padding:1rem 1.1rem; margin-bottom:0.6rem; border-radius:0 var(--radius-md) var(--radius-md) 0; position:relative; padding-right:2.5rem; }
.journal-date  { font-size:0.68rem; color:var(--accent-green); font-weight:700; margin-bottom:0.4rem; text-transform:uppercase; letter-spacing:0.8px; }
.journal-text  { color:var(--text-secondary); line-height:1.65; font-size:0.85rem; }
.journal-delete { position:absolute; top:0.875rem; right:0.75rem; background:var(--accent-red-dim); border:1px solid rgba(244,63,94,0.2); color:var(--accent-red); cursor:pointer; border-radius:var(--radius-sm); width:24px; height:24px; display:flex; align-items:center; justify-content:center; font-size:0.7rem; transition:background 0.15s; }
.journal-delete:hover { background:rgba(244,63,94,0.2); }

/* ── CALENDAR ───────────────────────────────────────────── */
.calendar-container   { background:var(--bg-card); border:1px solid var(--border-color); border-radius:var(--radius-lg); padding:1.5rem; }
.calendar-header      { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.25rem; }
.calendar-nav-btn     { background:var(--bg-tertiary); border:1px solid var(--border-color); color:var(--text-primary); padding:0.5rem 1rem; border-radius:var(--radius-sm); cursor:pointer; font-size:1rem; transition:all 0.15s; }
.calendar-nav-btn:hover { border-color:var(--accent-green); color:var(--accent-green); }
.calendar-month-title { font-family:'Syne',sans-serif; font-size:1.1rem; font-weight:800; }
.calendar-grid        { display:grid; grid-template-columns:repeat(7,1fr); gap:0.4rem; }
.calendar-day-header  { text-align:center; font-size:0.62rem; text-transform:uppercase; letter-spacing:0.8px; color:var(--text-secondary); padding:0.4rem 0; font-weight:700; }
.calendar-day { border:1px solid var(--border-color); border-radius:var(--radius-sm); padding:0.4rem; display:flex; flex-direction:column; align-items:center; justify-content:center; transition:all 0.15s; cursor:pointer; position:relative; min-height:68px; }
.calendar-day:hover:not(.empty) { border-color:var(--border-hover); background:var(--bg-hover); }
.calendar-day.empty    { background:transparent; border:none; cursor:default; }
.calendar-day.profit   { background:rgba(163,230,53,0.07); border-color:rgba(163,230,53,0.25); }
.calendar-day.loss     { background:rgba(244,63,94,0.07);  border-color:rgba(244,63,94,0.25); }
.calendar-day.breakeven{ background:rgba(107,127,114,0.08); }
.calendar-day-number   { font-size:0.75rem; font-weight:700; margin-bottom:0.1rem; color:var(--text-secondary); }
.calendar-day.profit .calendar-day-number,.calendar-day.loss .calendar-day-number { color:var(--text-primary); }
.calendar-day-pnl      { font-size:0.62rem; font-weight:700; font-family:'Syne',sans-serif; }
.calendar-day-pnl.positive { color:var(--accent-green); }
.calendar-day-pnl.negative { color:var(--accent-red); }
.calendar-day-trades   { font-size:0.56rem; color:var(--text-secondary); margin-top:0.1rem; }
.calendar-day-journal  { position:absolute; top:0.2rem; right:0.3rem; font-size:0.56rem; }
.calendar-stats        { display:grid; grid-template-columns:repeat(auto-fit,minmax(130px,1fr)); gap:0.75rem; margin-bottom:1.1rem; }
.calendar-stat-item    { background:var(--bg-tertiary); padding:0.875rem 1rem; border-radius:var(--radius-md); border:1px solid var(--border-color); }
.calendar-stat-label   { font-size:0.63rem; text-transform:uppercase; letter-spacing:0.8px; color:var(--text-secondary); margin-bottom:0.2rem; font-weight:600; }
.calendar-stat-value   { font-size:1rem; font-weight:800; font-family:'Syne',sans-serif; }
.calendar-stat-value.positive { color:var(--accent-green); }
.calendar-stat-value.negative { color:var(--accent-red); }

/* ── FILTERS — handled in responsive section ──────────── */

/* ── IMPORT / CSV ───────────────────────────────────────── */
.drop-zone { border:2px dashed var(--border-color); border-radius:var(--radius-lg); padding:2.5rem 2rem; text-align:center; transition:all 0.2s; cursor:pointer; }
.drop-zone:hover,.drop-zone.dragover { border-color:var(--accent-green); background:rgba(163,230,53,0.03); }
.drop-zone h3 { font-family:'Syne',sans-serif; font-size:0.95rem; margin:0.5rem 0; }
.drop-zone p  { color:var(--text-secondary); font-size:0.8rem; margin-top:0.35rem; }
.csv-preview        { background:var(--bg-tertiary); border-radius:var(--radius-md); padding:1.25rem; border:1px solid var(--border-color); margin-top:1.25rem; }
.csv-preview-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem; font-size:0.85rem; gap:1rem; flex-wrap:wrap; }
.csv-table-wrap { overflow-x:auto; }
.csv-table { width:100%; border-collapse:collapse; font-size:0.73rem; }
.csv-table th { background:var(--bg-primary); padding:0.55rem 0.75rem; text-align:left; color:var(--text-secondary); text-transform:uppercase; letter-spacing:0.8px; font-size:0.62rem; border-bottom:1px solid var(--border-color); white-space:nowrap; font-weight:700; }
.csv-table td { padding:0.5rem 0.75rem; border-bottom:1px solid rgba(255,255,255,0.03); }
.csv-table tr:last-child td { border-bottom:none; }
.csv-table tr:hover td { background:rgba(255,255,255,0.02); }
.row-valid { color:var(--accent-green); }
.row-error { color:var(--accent-red); font-size:0.68rem; }
.csv-more  { color:var(--text-secondary); font-size:0.73rem; margin-top:0.5rem; text-align:center; }
.progress-bar  { background:var(--bg-primary); height:4px; border-radius:20px; overflow:hidden; margin-top:1rem; }
.progress-fill { background:var(--accent-green); height:100%; transition:width 0.3s; border-radius:20px; }
.progress-text { font-size:0.72rem; color:var(--text-secondary); margin-top:0.35rem; }

/* ── BROKERS ────────────────────────────────────────────── */
.broker-grid      { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1rem; margin-bottom:1.25rem; }
.broker-icon      { font-size:1.6rem; margin-bottom:0.5rem; }
.broker-name      { font-family:'Syne',sans-serif; font-size:0.88rem; font-weight:800; margin-bottom:0.25rem; }
.broker-desc      { font-size:0.73rem; color:var(--text-secondary); line-height:1.5; }
.broker-soon      { font-size:0.68rem; color:var(--accent-yellow); margin-top:0.4rem; font-weight:700; }
.broker-account   { margin-left:0.65rem; color:var(--text-secondary); font-size:0.78rem; }
.broker-sync-time { font-size:0.68rem; color:var(--text-secondary); }
.broker-form-inner { background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:var(--radius-md); padding:1.5rem; }
.broker-form-title { font-family:'Syne',sans-serif; font-size:0.92rem; font-weight:800; margin-bottom:1rem; }
.broker-card:hover { border-color:var(--accent-green) !important; }

/* ── PROFILE MODAL ──────────────────────────────────────── */
.profile-header { display:flex; align-items:center; gap:1.1rem; padding:1.1rem; background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:var(--radius-lg); margin-bottom:1.25rem; }
.profile-avatar { width:52px; height:52px; background:var(--accent-green); border-radius:50%; display:flex; align-items:center; justify-content:center; font-family:'Syne',sans-serif; font-size:1.4rem; font-weight:800; color:var(--bg-primary); flex-shrink:0; }
.profile-name   { font-family:'Syne',sans-serif; font-size:1rem; font-weight:800; }
.profile-email  { font-size:0.78rem; color:var(--text-secondary); margin-top:0.2rem; }
.profile-joined { font-size:0.7rem; color:var(--text-secondary); margin-top:0.15rem; opacity:0.7; }
.profile-stats  { display:grid; grid-template-columns:repeat(4,1fr); gap:0.65rem; margin-bottom:1.25rem; }
.profile-stat   { background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:var(--radius-md); padding:0.75rem; text-align:center; }
.profile-stat-value { font-family:'Syne',sans-serif; font-size:1.05rem; font-weight:800; }
.profile-stat-label { font-size:0.62rem; color:var(--text-secondary); text-transform:uppercase; letter-spacing:0.4px; margin-top:0.2rem; }
.profile-section-title { font-size:0.67rem; font-weight:700; text-transform:uppercase; letter-spacing:1px; color:var(--text-secondary); margin-bottom:0.75rem; padding-bottom:0.5rem; border-bottom:1px solid var(--border-color); }
.profile-section-title.danger { color:var(--accent-red); border-bottom-color:rgba(244,63,94,0.15); }
.danger-zone { display:flex; justify-content:space-between; align-items:center; background:rgba(244,63,94,0.04); border:1px solid rgba(244,63,94,0.12); border-radius:var(--radius-md); padding:0.875rem 1rem; gap:1rem; }

/* ── AUTH PAGE ──────────────────────────────────────────── */
.auth-page { display:flex; align-items:center; justify-content:center; min-height:100vh; padding:1.5rem; background:var(--bg-primary); }
.auth-box  { background:var(--bg-card); border:1px solid var(--border-color); border-radius:var(--radius-xl); padding:2.5rem; width:100%; max-width:420px; box-shadow:var(--shadow-modal); }

.auth-header { margin-bottom:2rem; }
.auth-logo   { font-family:'Syne',sans-serif; font-size:2rem; font-weight:800; text-align:center; margin-bottom:0.4rem; display:flex; align-items:center; justify-content:center; gap:0.6rem; }
.auth-logo-icon { width:38px; height:38px; background:var(--accent-green); border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:1.2rem; color:var(--bg-primary); }
.auth-logo-text { color:var(--text-primary); }
.auth-logo-text span { color:var(--accent-green); }
.auth-tagline { text-align:center; color:var(--text-secondary); font-size:0.78rem; letter-spacing:0.3px; }

.auth-tabs { display:flex; background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:var(--radius-md); padding:4px; margin-bottom:1.75rem; }
.auth-tab  { flex:1; padding:0.6rem; text-align:center; cursor:pointer; border-radius:var(--radius-sm); font-size:0.78rem; font-weight:700; transition:all 0.18s; color:var(--text-secondary); border:none; background:transparent; font-family:'JetBrains Mono',monospace; letter-spacing:0.3px; }
.auth-tab:hover:not(.active) { color:var(--text-primary); }
.auth-tab.active { background:var(--accent-green); color:var(--bg-primary); }

.auth-form        { display:none; animation:fadeIn 0.22s ease; }
.auth-form.active { display:block; }

.auth-alert { padding:0.8rem 1rem; border-radius:var(--radius-md); font-size:0.82rem; margin-bottom:1.1rem; display:none; line-height:1.5; }
.auth-alert.error   { background:var(--accent-red-dim); border:1px solid rgba(244,63,94,0.2); color:var(--accent-red); }
.auth-alert.success { background:var(--accent-green-dim); border:1px solid rgba(163,230,53,0.2); color:var(--accent-green); word-break:break-all; }
.auth-alert.show    { display:block; }

.auth-divider { display:flex; align-items:center; margin:1.25rem 0; color:var(--text-secondary); font-size:0.73rem; }
.auth-divider::before,.auth-divider::after { content:''; flex:1; height:1px; background:var(--border-color); }
.auth-divider span { padding:0 0.875rem; }

.auth-link { background:none; border:none; color:var(--text-secondary); font-family:'JetBrains Mono',monospace; font-size:0.75rem; cursor:pointer; padding:0; transition:color 0.18s; }
.auth-link:hover { color:var(--accent-green); text-decoration:underline; text-underline-offset:3px; }
.auth-hint { color:var(--text-secondary); font-size:0.8rem; margin-bottom:1.1rem; line-height:1.6; }
.auth-back { margin-bottom:1rem; }

.google-btn { width:100%; padding:0.85rem; background:var(--bg-tertiary); border:1px solid var(--border-color); border-radius:var(--radius-md); color:var(--text-primary); font-family:'JetBrains Mono',monospace; font-size:0.82rem; font-weight:600; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:0.75rem; transition:all 0.18s; }
.google-btn:hover { background:var(--bg-hover); border-color:var(--border-hover); transform:translateY(-1px); }
.google-icon { width:20px; height:20px; flex-shrink:0; }

/* Password strength */
.password-strength { display:none; align-items:center; gap:0.65rem; margin-top:0.55rem; }
.pw-bar   { flex:1; height:4px; background:rgba(255,255,255,0.06); border-radius:20px; overflow:hidden; }
.pw-fill  { height:100%; border-radius:20px; transition:width 0.3s ease, background 0.3s ease; width:0%; }
.pw-label { font-size:0.68rem; font-weight:700; white-space:nowrap; min-width:55px; text-align:right; }

/* Wake banner */
.wake-banner { background:rgba(251,191,36,0.08); border:1px solid rgba(251,191,36,0.2); color:var(--accent-yellow); padding:0.6rem 1rem; border-radius:var(--radius-md); font-size:0.73rem; margin-bottom:1.1rem; text-align:center; line-height:1.5; }

/* ── MOBILE BOTTOM NAV ──────────────────────────────────── */
.mobile-topbar { display:none; }
.bottom-nav    { display:none; }
.mobile-avatar { display:none; }
.hide-mobile   { }

/* Filter chips */
.filter-chips {
  display:flex;
  gap:0.4rem;
  flex-wrap:nowrap;
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
  padding-bottom:2px;
}
.filter-chips::-webkit-scrollbar { display:none; }
.filter-chip {
  padding:0.4rem 0.9rem;
  background:var(--bg-tertiary);
  border:1px solid var(--border-color);
  border-radius:20px;
  color:var(--text-secondary);
  font-family:'JetBrains Mono',monospace;
  font-size:0.72rem;
  font-weight:600;
  cursor:pointer;
  white-space:nowrap;
  transition:all 0.18s;
  flex-shrink:0;
}
.filter-chip:hover { border-color:var(--border-hover); color:var(--text-primary); }
.filter-chip.active { background:var(--accent-green); border-color:var(--accent-green); color:var(--bg-primary); }

.filter-bar { display:flex; gap:0.75rem; margin-bottom:1.1rem; flex-wrap:wrap; align-items:center; }
.filter-count { color:var(--text-secondary); font-size:0.75rem; margin-left:auto; white-space:nowrap; }

/* ── RESPONSIVE ─────────────────────────────────────────── */
@media (max-width:768px) {
  /* Hide desktop sidebar */
  .sidebar { display:none; }

  /* Show mobile top bar */
  .mobile-topbar {
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0.875rem 1rem;
    background:var(--bg-secondary);
    border-bottom:1px solid var(--border-color);
    position:sticky;
    top:0;
    z-index:50;
    margin:-1rem -1rem 1rem;
  }
  .mobile-avatar {
    display:flex;
    width:34px; height:34px;
    background:var(--accent-green);
    border-radius:50%;
    align-items:center; justify-content:center;
    font-family:'Syne',sans-serif; font-size:0.95rem; font-weight:800;
    color:var(--bg-primary);
    border:none; cursor:pointer; flex-shrink:0;
  }

  /* Bottom nav bar */
  .bottom-nav {
    display:flex;
    align-items:center;
    justify-content:space-around;
    position:fixed;
    bottom:0; left:0; right:0;
    height:64px;
    background:var(--bg-secondary);
    border-top:1px solid var(--border-color);
    z-index:200;
    padding:0 0.5rem;
    padding-bottom:env(safe-area-inset-bottom);
  }
  .bottom-nav-item {
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:0.2rem;
    padding:0.5rem 0.75rem;
    background:none;
    border:none;
    color:var(--text-secondary);
    cursor:pointer;
    transition:all 0.18s;
    border-radius:var(--radius-sm);
    flex:1;
  }
  .bottom-nav-item span { font-family:'JetBrains Mono',monospace; font-size:0.58rem; font-weight:600; }
  .bottom-nav-item.active { color:var(--accent-green); }
  .bottom-nav-item.active svg { stroke:var(--accent-green); }

  /* Center FAB button */
  .bottom-nav-fab {
    width:52px; height:52px;
    background:var(--accent-green);
    border:none;
    border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    color:var(--bg-primary);
    cursor:pointer;
    box-shadow:0 4px 16px rgba(163,230,53,0.35);
    transition:all 0.18s;
    flex-shrink:0;
    margin-bottom:8px;
  }
  .bottom-nav-fab:active { transform:scale(0.94); }

  /* Main content adjustments */
  .main-content {
    margin-left:0;
    padding:1rem 1rem;
    padding-bottom:80px; /* space for bottom nav */
    min-height:100vh;
  }

  /* Hide desktop-only elements */
  .hide-mobile { display:none !important; }

  /* Typography */
  .header { font-size:1.25rem; letter-spacing:0; }
  .page-header { margin-bottom:1.1rem; }

  /* Stats grid — 2 cols */
  .stats-grid { grid-template-columns:repeat(2,1fr); gap:0.65rem; margin-bottom:1rem; }
  .stat-card { padding:1rem; }
  .stat-value { font-size:1.4rem; }
  .stat-label { font-size:0.65rem; }

  /* Cards */
  .card { padding:1rem; border-radius:var(--radius-md); }
  .card-title { font-size:0.8rem; margin-bottom:1rem; }

  /* Trade items — cleaner on mobile */
  .trade-item { padding:0.875rem; }
  .trade-symbol { font-size:0.9rem; }
  .trade-pnl { font-size:0.9rem; }
  .trade-meta { gap:0.65rem; font-size:0.65rem; }
  .trade-notes { font-size:0.75rem; }

  /* Filter bar — horizontal scroll chips */
  .filter-bar { gap:0.5rem; flex-wrap:nowrap; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; padding-bottom:4px; }
  .filter-bar::-webkit-scrollbar { display:none; }
  .filter-count { display:none; }

  /* Forms — single column */
  .form-row { grid-template-columns:1fr; gap:0; }
  .form-input,.form-select,.form-textarea { font-size:16px; } /* prevents iOS zoom */

  /* Modal — bottom sheet on mobile */
  .modal { align-items:flex-end; padding:0; }
  .modal-content {
    max-width:100%;
    width:100%;
    max-height:92vh;
    border-radius:var(--radius-xl) var(--radius-xl) 0 0;
    padding:1.25rem;
    animation:slideUp 0.25s ease;
  }
  .modal-header { margin-bottom:1.1rem; }
  .modal-title { font-size:1rem; }

  /* Modal bottom sheet drag handle */
  .modal-content::before {
    content:'';
    display:block;
    width:36px; height:4px;
    background:var(--border-hover);
    border-radius:2px;
    margin:0 auto 1.25rem;
  }

  /* Profile modal stats */
  .profile-stats { grid-template-columns:repeat(2,1fr); gap:0.5rem; }
  .profile-header { gap:0.875rem; padding:0.875rem; }
  .profile-avatar { width:44px; height:44px; font-size:1.2rem; }

  /* Calendar */
  .calendar-container { padding:1rem; }
  .calendar-grid { gap:0.2rem; }
  .calendar-day { min-height:40px; padding:0.25rem; }
  .calendar-day-pnl { display:none; }
  .calendar-day-trades { display:none; }
  .calendar-day-number { font-size:0.7rem; }
  .calendar-month-title { font-size:1rem; }
  .calendar-stats { grid-template-columns:repeat(2,1fr); gap:0.5rem; margin-bottom:0.875rem; }
  .calendar-stat-item { padding:0.65rem 0.75rem; }

  /* Journal */
  .journal-entry { padding:0.875rem 2.5rem 0.875rem 0.875rem; }

  /* Analytics tables — horizontal scroll */
  .card { overflow-x:auto; }

  /* Broker grid */
  .broker-grid { grid-template-columns:1fr; }

  /* Auth page */
  .auth-box { padding:1.75rem 1.25rem; border-radius:var(--radius-lg); }
  .auth-logo { font-size:1.6rem; }
}

/* Extra small phones */
@media (max-width:380px) {
  .stats-grid { grid-template-columns:repeat(2,1fr); gap:0.5rem; }
  .stat-value { font-size:1.2rem; }
  .bottom-nav-item { padding:0.5rem 0.4rem; }
}
