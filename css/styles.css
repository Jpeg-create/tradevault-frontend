@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600&display=swap');

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

:root {
  --bg-base:      #070707;
  --bg-surface:   #0d0d0d;
  --bg-card:      #141414;
  --bg-elevated:  #1a1a1a;
  --bg-overlay:   #222222;
  --bg-input:     #111111;
  --orange:       #FF6535;
  --orange-dim:   rgba(255,101,53,0.10);
  --orange-glow:  rgba(255,101,53,0.30);
  --orange-light: #FF8A65;
  --pink:         #FF2D6B;
  --pink-dim:     rgba(255,45,107,0.10);
  --green:        #30D158;
  --green-dim:    rgba(48,209,88,0.10);
  --red:          #FF3B30;
  --red-dim:      rgba(255,59,48,0.10);
  --amber:        #FF9F0A;
  --amber-dim:    rgba(255,159,10,0.10);
  --purple:       #BF5AF2;
  --blue:         #0A84FF;
  --teal:         #5AC8FA;
  --text-primary:   #F5F5F7;
  --text-secondary: #6E6E73;
  --text-muted:     #3A3A3C;
  --border:         rgba(255,255,255,0.07);
  --border-soft:    rgba(255,255,255,0.04);
  --border-bright:  rgba(255,255,255,0.13);
  --border-orange:  rgba(255,101,53,0.22);
  --shadow-card:  0 4px 24px rgba(0,0,0,0.5);
  --shadow-modal: 0 32px 80px rgba(0,0,0,0.8);
  --r-sm:  6px; --r-md:  10px; --r-lg:  16px; --r-xl:  20px; --r-2xl: 28px;
  --sidebar-w: 224px;
  --ease: cubic-bezier(0.4,0,0.2,1);
}

html { scroll-behavior:smooth; }
body {
  font-family:'Plus Jakarta Sans',sans-serif;
  background:var(--bg-base);
  color:var(--text-primary);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  min-height:100vh;
}
body::before {
  content:''; position:fixed; inset:0;
  background:
    radial-gradient(ellipse 70% 40% at 15% 0%,   rgba(255,101,53,0.04)  0%,transparent 60%),
    radial-gradient(ellipse 50% 35% at 85% 100%,  rgba(255,45,107,0.03) 0%,transparent 60%);
  pointer-events:none; z-index:0;
}

@keyframes fadeIn  { from{opacity:0;transform:translateY(8px)}  to{opacity:1;transform:translateY(0)} }
@keyframes slideUp { from{opacity:0;transform:translateY(16px)} to{opacity:1;transform:translateY(0)} }
@keyframes slideInR{ from{opacity:0;transform:translateX(16px)} to{opacity:1;transform:translateX(0)} }
@keyframes shimmer { from{background-position:200% 0} to{background-position:-200% 0} }
@keyframes spin    { to{transform:rotate(360deg)} }
@keyframes pulse   { 0%,100%{opacity:1} 50%{opacity:0.3} }
@keyframes blink   { 0%,100%{opacity:1} 50%{opacity:0} }

.app-container { display:flex; min-height:100vh; position:relative; z-index:1; }

.sidebar {
  width:var(--sidebar-w); background:var(--bg-surface);
  border-right:1px solid var(--border-soft);
  position:fixed; height:100vh; overflow-y:auto; overflow-x:hidden;
  display:flex; flex-direction:column; z-index:100;
  padding:1.5rem 1rem; scrollbar-width:none;
}
.sidebar::-webkit-scrollbar{display:none;}

.logo {
  display:flex; align-items:center; gap:0.65rem;
  padding:0.25rem 0.5rem; margin-bottom:2rem; flex-shrink:0;
}
.logo-icon {
  width:34px; height:34px; flex-shrink:0;
  display:flex; align-items:center; justify-content:center;
  filter:drop-shadow(0 0 10px rgba(255,101,53,0.5));
}
.logo-text {
  font-family:'Plus Jakarta Sans',sans-serif; font-size:1.05rem; font-weight:800;
  color:var(--text-primary); letter-spacing:-0.3px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.logo-text span {
  background: linear-gradient(135deg, var(--orange), var(--pink));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}

.nav-section-label {
  font-size:0.58rem; font-weight:700; text-transform:uppercase;
  letter-spacing:2px; color:var(--text-muted);
  padding:0 0.75rem; margin:1.5rem 0 0.5rem;
}
.nav-section-label:first-of-type{margin-top:0;}

.nav-item {
  display:flex; align-items:center; gap:0.7rem;
  padding:0.65rem 0.875rem; border-radius:var(--r-md);
  font-size:0.76rem; font-weight:600; color:var(--text-secondary);
  cursor:pointer; transition:all 0.18s var(--ease);
  margin-bottom:2px; border:none; background:transparent;
  width:100%; text-align:left; letter-spacing:0.2px; user-select:none;
}
.nav-item:hover { color:var(--text-primary); background:rgba(255,255,255,0.04); }
.nav-item.active { color:var(--orange); background:var(--orange-dim); border:1px solid var(--border-orange); }
.nav-icon { width:18px; height:18px; flex-shrink:0; display:flex; align-items:center; justify-content:center; opacity:0.55; transition:opacity 0.18s; }
.nav-item:hover .nav-icon { opacity:0.85; }
.nav-item.active .nav-icon { opacity:1; }

.sidebar-footer { margin-top:auto; padding-top:1rem; border-top:1px solid var(--border-soft); }
.sidebar-profile-btn {
  width:100%; background:var(--bg-elevated); border:1px solid var(--border);
  border-radius:var(--r-md); padding:0.7rem 0.875rem; cursor:pointer;
  display:flex; align-items:center; gap:0.7rem;
  transition:all 0.18s; text-align:left; margin-bottom:0.5rem;
}
.sidebar-profile-btn:hover { border-color:var(--border-bright); background:var(--bg-overlay); }
.sidebar-avatar {
  width:30px; height:30px;
  background:linear-gradient(135deg,var(--orange),var(--pink));
  border-radius:8px; display:flex; align-items:center; justify-content:center;
  font-family:'Plus Jakarta Sans',sans-serif; font-size:0.8rem; font-weight:800;
  color:#fff; flex-shrink:0;
}
.sidebar-user-info { flex:1; min-width:0; }
.sidebar-user-name  { font-size:0.73rem; font-weight:600; color:var(--text-primary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.sidebar-user-label { font-size:0.62rem; color:var(--text-secondary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; margin-top:1px; }
.sidebar-profile-icon { opacity:0.35; flex-shrink:0; }

.sync-status { display:flex; align-items:center; gap:0.4rem; font-size:0.62rem; color:var(--text-muted); margin-top:0.6rem; padding:0 0.25rem; }
.sync-dot { width:6px; height:6px; background:var(--green); border-radius:50%; flex-shrink:0; }
.sync-dot.syncing { background:var(--amber); animation:pulse 1s ease-in-out infinite; }

.main-content { margin-left:var(--sidebar-w); flex:1; padding:2rem 2.25rem; min-height:100vh; animation:fadeIn 0.3s ease; }

.page-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:1.75rem; gap:1rem; flex-wrap:wrap; }
.header { font-family:'Plus Jakarta Sans',sans-serif; font-size:1.6rem; font-weight:800; color:var(--text-primary); letter-spacing:-0.5px; }

.stats-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(175px,1fr)); gap:1rem; margin-bottom:1.75rem; }
.stat-card {
  background:var(--bg-card); border:1px solid var(--border);
  border-radius:var(--r-lg); padding:1.25rem 1.4rem;
  transition:all 0.22s var(--ease); position:relative; overflow:hidden; cursor:default;
}
.stat-card::before {
  content:''; position:absolute; inset:0;
  background:linear-gradient(135deg,rgba(255,101,53,0.025) 0%,transparent 60%);
  pointer-events:none;
}
.stat-card:hover { border-color:var(--border-bright); transform:translateY(-2px); box-shadow:0 8px 32px rgba(0,0,0,0.4); }
.stat-label { font-size:0.63rem; font-weight:700; text-transform:uppercase; letter-spacing:1.5px; color:var(--text-secondary); margin-bottom:0.65rem; }
.stat-value { font-family:'Plus Jakarta Sans',sans-serif; font-size:1.75rem; font-weight:800; color:var(--text-primary); letter-spacing:-1px; line-height:1; margin-bottom:0.35rem; }
.stat-value.positive { color:var(--green); }
.stat-value.negative { color:var(--red); }
.stat-change { font-size:0.65rem; color:var(--text-muted); }
.positive { color:var(--green); }
.negative { color:var(--red); }

.card { background:var(--bg-card); border:1px solid var(--border); border-radius:var(--r-lg); padding:1.4rem 1.6rem; margin-bottom:1.25rem; animation:fadeIn 0.25s ease; }
.card-title {
  font-family:'Plus Jakarta Sans',sans-serif; font-size:0.8rem; font-weight:800;
  text-transform:uppercase; letter-spacing:1px; color:var(--text-secondary);
  margin-bottom:1.25rem; display:flex; align-items:center; gap:0.5rem;
}
.card-title-count { background:var(--bg-elevated); border:1px solid var(--border); border-radius:20px; padding:0.1rem 0.5rem; font-size:0.62rem; color:var(--text-secondary); margin-left:auto; }

.btn {
  display:inline-flex; align-items:center; justify-content:center; gap:0.45rem;
  padding:0.65rem 1.25rem; border-radius:var(--r-md);
  font-family:'Plus Jakarta Sans',sans-serif; font-size:0.76rem; font-weight:700;
  cursor:pointer; transition:all 0.18s var(--ease);
  border:none; white-space:nowrap; user-select:none; letter-spacing:0.2px;
}
.btn:disabled { opacity:0.4; cursor:not-allowed; }
.btn:disabled:hover { transform:none !important; }
.btn-primary {
  background:linear-gradient(135deg, var(--orange), var(--pink));
  color:#fff; font-weight:700;
  box-shadow:0 2px 16px rgba(255,101,53,0.35);
}
.btn-primary:hover:not(:disabled) {
  background:linear-gradient(135deg, var(--orange-light), var(--pink));
  box-shadow:0 4px 24px rgba(255,101,53,0.5); transform:translateY(-1px);
}
.btn-secondary { background:var(--bg-elevated); color:var(--text-secondary); border:1px solid var(--border); }
.btn-secondary:hover:not(:disabled) { background:var(--bg-overlay); color:var(--text-primary); border-color:var(--border-bright); }
.btn-danger { background:var(--red-dim); color:var(--red); border:1px solid rgba(255,59,48,0.18); }
.btn-danger:hover:not(:disabled) { background:rgba(255,59,48,0.18); border-color:rgba(255,59,48,0.3); }
.btn-sm { padding:0.4rem 0.875rem; font-size:0.7rem; border-radius:var(--r-sm); }
.btn-block { width:100%; }
.btn-ai { background:linear-gradient(135deg,rgba(255,101,53,0.1),rgba(255,45,107,0.1)); color:var(--orange); border:1px solid rgba(255,101,53,0.22); font-weight:700; transition:all 0.2s; }
.btn-ai:hover:not(:disabled) { background:linear-gradient(135deg,rgba(255,101,53,0.18),rgba(255,45,107,0.18)); border-color:rgba(255,101,53,0.38); transform:translateY(-1px); box-shadow:0 4px 20px rgba(255,101,53,0.12); }
.btn-ai-locked { background:var(--bg-elevated); color:var(--text-secondary); border:1px dashed var(--border); cursor:pointer; transition:all 0.2s; }
.btn-ai-locked:hover { border-color:var(--amber); color:var(--amber); background:var(--amber-dim); }
.crown-icon { font-size:0.7rem; }

.form-group { margin-bottom:1rem; }
.form-label { display:block; font-size:0.65rem; font-weight:700; text-transform:uppercase; letter-spacing:1px; color:var(--text-secondary); margin-bottom:0.45rem; }
.form-label-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.45rem; }
.form-label-row .form-label { margin-bottom:0; }
.form-input,.form-select,.form-textarea {
  width:100%; background:var(--bg-input); border:1px solid var(--border);
  border-radius:var(--r-md); padding:0.7rem 0.9rem;
  color:var(--text-primary); font-family:'JetBrains Mono',monospace;
  font-size:0.78rem; transition:all 0.18s; appearance:none;
}
.form-input::placeholder,.form-textarea::placeholder{color:var(--text-muted);}
.form-input:focus,.form-select:focus,.form-textarea:focus { outline:none; border-color:var(--orange); background:var(--bg-elevated); box-shadow:0 0 0 3px rgba(255,101,53,0.08); }
.form-textarea { resize:vertical; min-height:100px; line-height:1.6; }
.form-select { background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236E6E73' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 0.75rem center; padding-right:2rem; }
.form-row { display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:0.75rem; }

.trade-item {
  background:var(--bg-elevated); border:1px solid var(--border-soft);
  border-radius:var(--r-md); padding:1rem 1.1rem; cursor:pointer;
  transition:all 0.18s var(--ease); margin-bottom:0.5rem; animation:fadeIn 0.2s ease;
}
.trade-item:hover { border-color:var(--border-bright); background:var(--bg-overlay); transform:translateX(2px); }
.trade-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.55rem; gap:0.75rem; }
.trade-left,.trade-right { display:flex; align-items:center; gap:0.5rem; }
.trade-symbol { font-family:'Plus Jakarta Sans',sans-serif; font-size:0.92rem; font-weight:800; color:var(--text-primary); letter-spacing:0.5px; }
.trade-pnl { font-family:'Plus Jakarta Sans',sans-serif; font-size:0.92rem; font-weight:800; letter-spacing:-0.5px; }
.trade-pnl.positive{color:var(--green);} .trade-pnl.negative{color:var(--red);}
.trade-badges { display:flex; gap:0.35rem; flex-wrap:wrap; }
.trade-meta { display:flex; gap:0.75rem; flex-wrap:wrap; font-size:0.65rem; color:var(--text-secondary); }
.trade-meta-item { display:flex; align-items:center; gap:0.2rem; }
.trade-notes { font-size:0.7rem; color:var(--text-secondary); margin-top:0.5rem; padding-top:0.5rem; border-top:1px solid var(--border-soft); line-height:1.55; }

.badge { display:inline-flex; align-items:center; padding:0.18rem 0.55rem; border-radius:20px; font-size:0.6rem; font-weight:700; text-transform:uppercase; letter-spacing:0.5px; }
.badge-long    { background:rgba(48,209,88,0.1);   color:var(--green); }
.badge-short   { background:var(--red-dim);         color:var(--red); }
.badge-stock   { background:var(--orange-dim);      color:var(--orange); }
.badge-forex   { background:rgba(191,90,242,0.1);   color:var(--purple); }
.badge-crypto  { background:rgba(255,159,10,0.1);   color:var(--amber); }
.badge-futures { background:rgba(90,200,250,0.1);   color:var(--teal); }
.badge-options { background:rgba(10,132,255,0.1);   color:var(--blue); }
.badge-broker  { background:var(--bg-elevated); color:var(--text-secondary); border:1px solid var(--border); }

.skeleton { background:linear-gradient(90deg,var(--bg-elevated) 25%,rgba(255,255,255,0.04) 50%,var(--bg-elevated) 75%); background-size:200% 100%; animation:shimmer 1.8s infinite; border-radius:var(--r-md); }

#toast-container { position:fixed; bottom:1.5rem; right:1.5rem; z-index:9999; display:flex; flex-direction:column; gap:0.5rem; pointer-events:none; }
.toast { background:var(--bg-elevated); border:1px solid var(--border-bright); border-radius:var(--r-md); padding:0.75rem 1rem; font-size:0.76rem; color:var(--text-primary); display:flex; align-items:center; gap:0.6rem; animation:slideInR 0.25s ease; box-shadow:var(--shadow-card); pointer-events:all; max-width:320px; backdrop-filter:blur(12px); }
.toast.success{border-color:rgba(48,209,88,0.25);} .toast.error{border-color:rgba(255,59,48,0.25);} .toast.warn{border-color:rgba(255,159,10,0.25);}
.spinner { width:13px; height:13px; border:2px solid rgba(255,255,255,0.1); border-top-color:currentColor; border-radius:50%; animation:spin 0.65s linear infinite; display:inline-block; flex-shrink:0; }

.empty-state { text-align:center; padding:3rem 1rem; color:var(--text-secondary); }
.empty-state-icon { font-size:2.5rem; margin-bottom:0.75rem; opacity:0.35; }
.empty-state h3 { font-family:'Plus Jakarta Sans',sans-serif; font-size:1rem; font-weight:800; color:var(--text-primary); margin-bottom:0.35rem; }
.empty-state p  { font-size:0.75rem; line-height:1.6; }

.modal { position:fixed; inset:0; z-index:1000; background:rgba(4,4,4,0.82); backdrop-filter:blur(10px); display:flex; align-items:center; justify-content:center; padding:1.5rem; animation:fadeIn 0.18s ease; }
.modal-content { background:var(--bg-card); border:1px solid var(--border-bright); border-radius:var(--r-xl); padding:2rem; width:100%; max-width:620px; max-height:90vh; overflow-y:auto; box-shadow:var(--shadow-modal); animation:slideUp 0.22s ease; scrollbar-width:thin; scrollbar-color:var(--bg-overlay) transparent; }
.modal-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:1.5rem; gap:1rem; }
.modal-title { font-family:'Plus Jakarta Sans',sans-serif; font-size:1.1rem; font-weight:800; color:var(--text-primary); }
.modal-actions { display:flex; gap:0.75rem; margin-top:1.5rem; justify-content:flex-end; flex-wrap:wrap; }
.pnl-result { border:1px solid var(--border); border-radius:var(--r-md); padding:1.1rem 1.25rem; margin:1.25rem 0; text-align:center; background:var(--bg-elevated); }

.progress-bar { background:var(--bg-elevated); border-radius:4px; height:6px; overflow:hidden; border:1px solid var(--border-soft); }
.progress-fill { height:100%; background:linear-gradient(90deg,var(--orange),var(--pink)); border-radius:4px; transition:width 0.4s ease; }
.progress-text { font-size:0.68rem; color:var(--text-secondary); margin-top:0.4rem; text-align:center; }

.calendar-container { background:var(--bg-card); border:1px solid var(--border); border-radius:var(--r-lg); padding:1.4rem; margin-bottom:1.25rem; }
.calendar-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:1.25rem; }
.calendar-month-title { font-family:'Plus Jakarta Sans',sans-serif; font-size:1.1rem; font-weight:800; color:var(--text-primary); }
.calendar-nav-btn { width:32px; height:32px; background:var(--bg-elevated); border:1px solid var(--border); border-radius:var(--r-sm); color:var(--text-secondary); cursor:pointer; font-size:1.1rem; display:flex; align-items:center; justify-content:center; transition:all 0.18s; }
.calendar-nav-btn:hover{color:var(--orange);border-color:rgba(255,101,53,0.22);}
.calendar-grid { display:grid; grid-template-columns:repeat(7,1fr); gap:3px; }
.calendar-day-header { font-size:0.58rem; font-weight:700; text-align:center; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.5px; padding:0.4rem 0; }
.calendar-day { min-height:62px; border-radius:var(--r-sm); padding:0.4rem; background:var(--bg-elevated); border:1px solid var(--border-soft); cursor:pointer; transition:all 0.18s; position:relative; overflow:hidden; }
.calendar-day:hover{border-color:var(--border-bright);background:var(--bg-overlay);}
.calendar-day.empty{background:transparent;border-color:transparent;cursor:default;}
.calendar-day.profit{border-color:rgba(48,209,88,0.2);background:rgba(48,209,88,0.04);}
.calendar-day.profit:hover{background:rgba(48,209,88,0.09);}
.calendar-day.loss{border-color:rgba(255,59,48,0.2);background:rgba(255,59,48,0.04);}
.calendar-day.loss:hover{background:rgba(255,59,48,0.09);}
.calendar-day.breakeven{border-color:rgba(255,159,10,0.2);background:rgba(255,159,10,0.04);}
.calendar-day-number{font-weight:700;color:var(--text-secondary);font-size:0.66rem;}
.calendar-day.profit .calendar-day-number,.calendar-day.loss .calendar-day-number,.calendar-day.breakeven .calendar-day-number{color:var(--text-primary);}
.calendar-day-pnl{font-size:0.58rem;font-weight:700;margin-top:0.2rem;}
.calendar-day-pnl.positive{color:var(--green);} .calendar-day-pnl.negative{color:var(--red);}
.calendar-day-trades{font-size:0.54rem;color:var(--text-muted);margin-top:1px;}
.calendar-day-journal{position:absolute;top:3px;right:4px;font-size:0.55rem;}
.calendar-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:0.75rem;margin-bottom:1.25rem;}
.calendar-stat-item{background:var(--bg-elevated);border:1px solid var(--border-soft);border-radius:var(--r-md);padding:0.875rem 1rem;}
.calendar-stat-label{font-size:0.6rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px;font-weight:700;margin-bottom:0.3rem;}
.calendar-stat-value{font-family:'Plus Jakarta Sans',sans-serif;font-size:1.1rem;font-weight:800;color:var(--text-primary);}

.journal-entry { background:var(--bg-elevated); border:1px solid var(--border-soft); border-left:3px solid var(--orange); border-radius:var(--r-md); padding:1rem 2.75rem 1rem 1.1rem; margin-bottom:0.65rem; position:relative; transition:all 0.18s; animation:fadeIn 0.2s ease; }
.journal-entry:hover{border-color:var(--border-bright);}
.journal-date{font-family:'Plus Jakarta Sans',sans-serif;font-size:0.73rem;font-weight:700;color:var(--orange);margin-bottom:0.4rem;}
.journal-date.positive{color:var(--green);} .journal-date.negative{color:var(--red);}
.journal-text{font-size:0.78rem;color:var(--text-secondary);line-height:1.65;white-space:pre-wrap;}
.journal-delete{position:absolute;top:0.875rem;right:0.875rem;background:none;border:none;color:var(--text-muted);cursor:pointer;font-size:0.73rem;padding:0.2rem 0.4rem;border-radius:4px;transition:all 0.18s;}
.journal-delete:hover{color:var(--red);background:var(--red-dim);}

.drop-zone { border:2px dashed var(--border-bright); border-radius:var(--r-lg); padding:2.5rem 1.5rem; text-align:center; cursor:pointer; transition:all 0.22s; background:var(--bg-elevated); color:var(--text-secondary); }
.drop-zone:hover,.drop-zone.dragover{border-color:var(--orange);background:var(--orange-dim);color:var(--text-primary);}
.drop-zone h3{font-family:'Plus Jakarta Sans',sans-serif;font-size:1rem;font-weight:800;margin-bottom:0.35rem;}
.drop-zone p{font-size:0.73rem;}
.csv-preview{margin-top:1.5rem;}
.csv-preview-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;flex-wrap:wrap;gap:0.75rem;font-size:0.76rem;}
.csv-table-wrap{overflow-x:auto;}
.csv-table{width:100%;border-collapse:separate;border-spacing:0;font-size:0.7rem;min-width:600px;}
.csv-table th{background:var(--bg-elevated);color:var(--text-secondary);font-size:0.6rem;text-transform:uppercase;letter-spacing:0.5px;padding:0.6rem 0.75rem;text-align:left;font-weight:700;border-bottom:1px solid var(--border);}
.csv-table td{padding:0.55rem 0.75rem;border-bottom:1px solid var(--border-soft);color:var(--text-secondary);}
.csv-table tr:last-child td{border-bottom:none;}
.row-valid{color:var(--green)!important;} .row-error{color:var(--red)!important;}
.csv-more{font-size:0.68rem;color:var(--text-muted);text-align:center;padding:0.5rem 0;}

.broker-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:0.875rem;margin-bottom:1.25rem;}
.broker-card{background:var(--bg-elevated);border:1px solid var(--border);border-radius:var(--r-md);padding:1.25rem;transition:all 0.22s;}
.broker-card:hover{border-color:var(--orange);background:var(--orange-dim);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,0.4);}
.broker-icon{font-size:1.75rem;margin-bottom:0.6rem;}
.broker-name{font-family:'Plus Jakarta Sans',sans-serif;font-size:0.85rem;font-weight:800;color:var(--text-primary);margin-bottom:0.3rem;}
.broker-desc{font-size:0.68rem;color:var(--text-secondary);line-height:1.5;}
.broker-soon{font-size:0.6rem;color:var(--amber);font-weight:700;margin-top:0.4rem;text-transform:uppercase;letter-spacing:0.5px;}
.broker-account{font-size:0.65rem;color:var(--text-muted);margin-left:0.5rem;}
.broker-sync-time{font-size:0.63rem;color:var(--text-muted);}
.broker-form-inner{margin-top:1.25rem;padding-top:1.25rem;border-top:1px solid var(--border);}
.broker-form-title{font-family:'Plus Jakarta Sans',sans-serif;font-size:0.88rem;font-weight:800;color:var(--text-primary);margin-bottom:1rem;}

.profile-header{display:flex;align-items:center;gap:1rem;padding:1.25rem;background:var(--bg-elevated);border:1px solid var(--border-soft);border-radius:var(--r-md);margin-bottom:1.5rem;}
.profile-avatar{width:52px;height:52px;background:linear-gradient(135deg,var(--orange),var(--pink));border-radius:14px;display:flex;align-items:center;justify-content:center;font-family:'Plus Jakarta Sans',sans-serif;font-size:1.4rem;font-weight:800;color:#fff;flex-shrink:0;box-shadow:0 4px 16px rgba(255,101,53,0.35);}
.profile-name{font-family:'Plus Jakarta Sans',sans-serif;font-size:1rem;font-weight:800;color:var(--text-primary);}
.profile-email{font-size:0.7rem;color:var(--text-secondary);margin-top:2px;}
.profile-joined{font-size:0.63rem;color:var(--text-muted);margin-top:2px;}
.profile-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:0.75rem;margin-bottom:1.5rem;}
.profile-stat{background:var(--bg-elevated);border:1px solid var(--border-soft);border-radius:var(--r-md);padding:0.875rem;text-align:center;}
.profile-stat-value{font-family:'Plus Jakarta Sans',sans-serif;font-size:1.1rem;font-weight:800;color:var(--text-primary);}
.profile-stat-label{font-size:0.58rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.5px;margin-top:0.2rem;}
.profile-section-title{font-size:0.6rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-muted);margin-bottom:0.875rem;margin-top:1.5rem;padding-bottom:0.5rem;border-bottom:1px solid var(--border-soft);}
.profile-section-title.danger{color:var(--red);border-bottom-color:rgba(255,59,48,0.12);}
.danger-zone{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1rem;background:var(--bg-elevated);border:1px solid var(--border-soft);border-radius:var(--r-md);flex-wrap:wrap;}

.ai-debrief-section{margin-top:1.25rem;padding-top:1.25rem;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:0.75rem;}
.ai-debrief-label{font-size:0.6rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--orange);font-weight:700;}
.ai-debrief-card{background:linear-gradient(135deg,rgba(255,101,53,0.04),rgba(255,45,107,0.04));border:1px solid rgba(255,101,53,0.13);border-radius:var(--r-md);padding:1rem 1.1rem;min-height:2rem;}
.ai-debrief-text{font-size:0.82rem;color:var(--text-primary);line-height:1.75;white-space:pre-wrap;}
.ai-patterns-output{font-size:0.82rem;color:var(--text-primary);line-height:1.8;padding:0.25rem;}
.ai-cursor{display:inline-block;width:2px;height:1em;background:var(--orange);margin-left:2px;vertical-align:text-bottom;animation:blink 0.9s step-end infinite;border-radius:1px;}

.upgrade-modal-content{max-width:420px;text-align:center;}
.upgrade-modal-header{padding-bottom:1.25rem;border-bottom:1px solid var(--border);margin-bottom:1.25rem;}
.upgrade-crown{font-size:2.5rem;line-height:1;}
.upgrade-features{display:flex;flex-direction:column;gap:0.875rem;margin-bottom:1.5rem;text-align:left;}
.upgrade-feature{display:flex;gap:0.875rem;align-items:flex-start;background:var(--bg-elevated);border:1px solid var(--border);border-radius:var(--r-md);padding:0.875rem 1rem;}
.upgrade-feature-icon{font-size:1.25rem;flex-shrink:0;margin-top:0.1rem;}
.upgrade-feature-title{font-weight:700;font-size:0.82rem;margin-bottom:0.2rem;}
.upgrade-feature-desc{font-size:0.7rem;color:var(--text-secondary);line-height:1.5;}
.upgrade-price{margin-bottom:0.5rem;}
.upgrade-price-amount{font-family:'Plus Jakarta Sans',sans-serif;font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--orange),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.upgrade-price-period{font-size:0.875rem;color:var(--text-secondary);margin-left:0.25rem;}

.confirm-overlay{position:fixed;inset:0;z-index:2000;background:rgba(4,4,4,0.85);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;padding:1rem;animation:fadeIn 0.18s ease;}
.confirm-box{background:var(--bg-card);border:1px solid var(--border-bright);border-radius:var(--r-lg);padding:1.75rem;width:100%;max-width:380px;box-shadow:var(--shadow-modal);animation:slideUp 0.2s ease;}
.confirm-msg{font-size:0.86rem;line-height:1.65;color:var(--text-primary);margin-bottom:1.25rem;}
.confirm-input{margin-bottom:1.1rem;}
.confirm-actions{display:flex;gap:0.75rem;justify-content:flex-end;}

.mobile-more-sheet{display:none;position:fixed;inset:0;z-index:300;}
.mobile-more-backdrop{position:absolute;inset:0;background:rgba(4,4,4,0.75);backdrop-filter:blur(6px);}
.mobile-more-content{position:absolute;bottom:64px;left:0;right:0;background:var(--bg-surface);border-top:1px solid var(--border);border-radius:var(--r-xl) var(--r-xl) 0 0;padding:1rem 1.25rem 1.5rem;animation:slideUp 0.22s ease;}
.mobile-more-handle{width:36px;height:4px;background:var(--border-bright);border-radius:2px;margin:0 auto 1rem;}
.mobile-more-title{font-family:'Plus Jakarta Sans',sans-serif;font-size:0.82rem;font-weight:800;margin-bottom:1rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px;}
.mobile-more-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:0.5rem;}
.mobile-more-item{display:flex;flex-direction:column;align-items:center;gap:0.4rem;padding:1rem 0.5rem;background:var(--bg-elevated);border:1px solid var(--border);border-radius:var(--r-md);color:var(--text-secondary);font-family:'Plus Jakarta Sans',sans-serif;font-size:0.6rem;font-weight:600;cursor:pointer;transition:all 0.18s;}
.mobile-more-item:hover,.mobile-more-item.active{background:var(--orange-dim);border-color:var(--border-orange);color:var(--orange);}
.mobile-more-icon{display:flex;align-items:center;justify-content:center;}

.filter-bar{display:flex;gap:0.75rem;margin-bottom:1.1rem;flex-wrap:wrap;align-items:center;}
.filter-count{color:var(--text-secondary);font-size:0.7rem;margin-left:auto;white-space:nowrap;}
.filter-chips{display:flex;gap:0.4rem;flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;padding-bottom:2px;}
.filter-chips::-webkit-scrollbar{display:none;}
.filter-chip{padding:0.38rem 0.875rem;background:var(--bg-elevated);border:1px solid var(--border);border-radius:20px;color:var(--text-secondary);font-family:'Plus Jakarta Sans',sans-serif;font-size:0.68rem;font-weight:600;cursor:pointer;white-space:nowrap;transition:all 0.18s;flex-shrink:0;}
.filter-chip:hover{border-color:var(--border-bright);color:var(--text-primary);}
.filter-chip.active{background:var(--orange-dim);border-color:var(--border-orange);color:var(--orange);}

.mobile-topbar{display:none;} .bottom-nav{display:none;} .mobile-avatar{display:none;} .hide-mobile{}

.auth-page{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:1.5rem;background:
  radial-gradient(ellipse 60% 40% at 20% -5%,rgba(255,101,53,0.07) 0%,transparent 55%),
  radial-gradient(ellipse 45% 35% at 85% 105%,rgba(255,45,107,0.05) 0%,transparent 55%),
  var(--bg-base);}
.auth-box{background:var(--bg-card);border:1px solid var(--border-bright);border-radius:var(--r-2xl);padding:2.5rem;width:100%;max-width:420px;box-shadow:var(--shadow-modal),0 0 60px rgba(255,101,53,0.04);}
.auth-header{margin-bottom:2rem;}
.auth-logo{font-family:'Plus Jakarta Sans',sans-serif;font-size:2rem;font-weight:800;text-align:center;margin-bottom:0.4rem;display:flex;align-items:center;justify-content:center;gap:0.6rem;}
.auth-logo-icon{width:44px;height:44px;display:flex;align-items:center;justify-content:center;flex-shrink:0;filter:drop-shadow(0 0 12px rgba(255,101,53,0.5));}
.auth-logo-text{color:var(--text-primary);}
.auth-logo-text span{background:linear-gradient(135deg,var(--orange),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.auth-tagline{text-align:center;color:var(--text-secondary);font-size:0.7rem;letter-spacing:0.5px;}
.auth-tabs{display:flex;background:var(--bg-elevated);border:1px solid var(--border);border-radius:var(--r-md);padding:4px;margin-bottom:1.75rem;}
.auth-tab{flex:1;padding:0.6rem;text-align:center;cursor:pointer;border-radius:var(--r-sm);font-size:0.73rem;font-weight:700;transition:all 0.18s;color:var(--text-secondary);border:none;background:transparent;font-family:'Plus Jakarta Sans',sans-serif;letter-spacing:0.3px;}
.auth-tab:hover:not(.active){color:var(--text-primary);}
.auth-tab.active{background:linear-gradient(135deg,var(--orange),var(--pink));color:#fff;}
.auth-form{display:none;animation:fadeIn 0.22s ease;}
.auth-form.active{display:block;}
.auth-alert{padding:0.8rem 1rem;border-radius:var(--r-md);font-size:0.76rem;margin-bottom:1.1rem;display:none;line-height:1.6;}
.auth-alert.error{background:var(--red-dim);border:1px solid rgba(255,59,48,0.18);color:var(--red);}
.auth-alert.success{background:var(--orange-dim);border:1px solid rgba(255,101,53,0.18);color:var(--orange);word-break:break-word;overflow-wrap:anywhere;}
.auth-alert.show{display:block;}
.auth-divider{display:flex;align-items:center;margin:1.25rem 0;color:var(--text-secondary);font-size:0.68rem;}
.auth-divider::before,.auth-divider::after{content:'';flex:1;height:1px;background:var(--border);}
.auth-divider span{padding:0 0.875rem;}
.auth-link{background:none;border:none;color:var(--text-secondary);font-family:'Plus Jakarta Sans',sans-serif;font-size:0.7rem;cursor:pointer;padding:0;transition:color 0.18s;}
.auth-link:hover{color:var(--orange);}
.auth-hint{color:var(--text-secondary);font-size:0.76rem;margin-bottom:1.1rem;line-height:1.6;}
.auth-back{margin-bottom:1rem;}
.google-btn{width:100%;padding:0.85rem;background:var(--bg-elevated);border:1px solid var(--border);border-radius:var(--r-md);color:var(--text-primary);font-family:'Plus Jakarta Sans',sans-serif;font-size:0.78rem;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:0.75rem;transition:all 0.18s;}
.google-btn:hover{background:var(--bg-overlay);border-color:var(--border-bright);transform:translateY(-1px);}
.google-icon{width:20px;height:20px;flex-shrink:0;}
.password-strength{display:none;align-items:center;gap:0.65rem;margin-top:0.55rem;}
.pw-bar{flex:1;height:4px;background:rgba(255,255,255,0.05);border-radius:20px;overflow:hidden;}
.pw-fill{height:100%;border-radius:20px;transition:width 0.3s ease,background 0.3s ease;width:0%;}
.pw-label{font-size:0.63rem;font-weight:700;white-space:nowrap;min-width:50px;text-align:right;}
.auth-token-box{background:var(--bg-base);border:1px solid var(--border);border-radius:var(--r-sm);padding:0.75rem;font-size:0.7rem;word-break:break-all;color:var(--orange);cursor:pointer;font-family:monospace;margin:0.5rem 0;transition:border-color 0.2s;}
.auth-token-box:hover{border-color:var(--orange);}
.google-note{font-size:0.7rem;color:var(--text-secondary);text-align:center;margin-top:0.6rem;line-height:1.5;}
.wake-banner{background:var(--amber-dim);border:1px solid rgba(255,159,10,0.18);color:var(--amber);padding:0.6rem 1rem;border-radius:var(--r-md);font-size:0.68rem;margin-bottom:1.1rem;text-align:center;line-height:1.5;}
#google-btn-container{display:flex;justify-content:center;min-height:44px;align-items:center;}

@media(max-width:768px){
  .sidebar{display:none;} .mobile-more-sheet{display:block;}
  .mobile-topbar{display:flex;align-items:center;justify-content:space-between;padding:0.875rem 1rem;background:var(--bg-surface);border-bottom:1px solid var(--border-soft);position:sticky;top:0;z-index:50;margin:-1rem -1rem 1rem;}
  .mobile-avatar{display:flex;width:34px;height:34px;background:linear-gradient(135deg,var(--orange),var(--pink));border-radius:10px;align-items:center;justify-content:center;font-family:'Plus Jakarta Sans',sans-serif;font-size:0.9rem;font-weight:800;color:#fff;border:none;cursor:pointer;flex-shrink:0;}
  .bottom-nav{display:flex;align-items:center;justify-content:space-around;position:fixed;bottom:0;left:0;right:0;height:64px;background:var(--bg-surface);border-top:1px solid var(--border-soft);z-index:200;padding:0 0.5rem;padding-bottom:env(safe-area-inset-bottom);}
  .bottom-nav-item{display:flex;flex-direction:column;align-items:center;gap:0.2rem;padding:0.5rem 0.75rem;background:none;border:none;color:var(--text-secondary);cursor:pointer;transition:all 0.18s;border-radius:var(--r-sm);flex:1;}
  .bottom-nav-item span{font-family:'Plus Jakarta Sans',sans-serif;font-size:0.53rem;font-weight:600;}
  .bottom-nav-item.active{color:var(--orange);}
  .bottom-nav-item.active svg{stroke:var(--orange);}
  .bottom-nav-fab{width:52px;height:52px;background:linear-gradient(135deg,var(--orange),var(--pink));border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;box-shadow:0 4px 20px rgba(255,101,53,0.5);transition:all 0.18s;flex-shrink:0;margin-bottom:8px;}
  .bottom-nav-fab:active{transform:scale(0.94);}
  .main-content{margin-left:0;padding:1rem;padding-bottom:80px;min-height:100vh;}
  .hide-mobile{display:none!important;}
  .header{font-size:1.25rem;} .page-header{margin-bottom:1rem;}
  .stats-grid{grid-template-columns:repeat(2,1fr);gap:0.65rem;margin-bottom:1rem;}
  .stat-card{padding:1rem;} .stat-value{font-size:1.4rem;} .stat-label{font-size:0.6rem;}
  .card{padding:1rem;border-radius:var(--r-md);} .card-title{font-size:0.73rem;}
  .form-row{grid-template-columns:1fr;gap:0;}
  .form-input,.form-select,.form-textarea{font-size:16px;}
  .modal{align-items:flex-end;padding:0;}
  .modal-content{max-width:100%;width:100%;max-height:92vh;border-radius:var(--r-xl) var(--r-xl) 0 0;padding:1.25rem;animation:slideUp 0.25s ease;}
  .modal-content::before{content:'';display:block;width:36px;height:4px;background:var(--border-bright);border-radius:2px;margin:0 auto 1.25rem;}
  .profile-stats{grid-template-columns:repeat(2,1fr);}
  .calendar-stats{grid-template-columns:repeat(2,1fr);}
  .calendar-day{min-height:40px;padding:0.25rem;}
  .calendar-day-pnl,.calendar-day-trades{display:none;}
  .broker-grid{grid-template-columns:1fr;}
  .auth-box{padding:1.75rem 1.25rem;border-radius:var(--r-lg);}
}
@media(max-width:380px){
  .stats-grid{grid-template-columns:repeat(2,1fr);gap:0.5rem;}
  .stat-value{font-size:1.2rem;}
  .bottom-nav-item{padding:0.5rem 0.4rem;}
}
